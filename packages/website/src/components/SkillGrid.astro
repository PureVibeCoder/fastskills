---
import SkillCard from './SkillCard.astro';
import type { Skill } from '../data/skills';

interface Props {
  skills: Skill[];
  selectedCategory: string | null;
}

const { skills, selectedCategory } = Astro.props;

const filteredSkills = selectedCategory
  ? skills.filter(skill => skill.category.id === selectedCategory)
  : skills;
---

<section id="skills" class="skills-section section-white">
  <div class="container">
    <div class="section-header">
      <h2 class="section-title">技能库</h2>
      <p class="section-subtitle">浏览所有可用的技能，点击下载即可使用</p>
    </div>

    {filteredSkills.length > 0 ? (
      <div class="skills-grid grid-auto grid-auto-4">
        {filteredSkills.map(skill => (
          <SkillCard skill={skill} />
        ))}
      </div>
    ) : (
      <p class="no-skills">该分类下暂无技能</p>
    )}
  </div>
</section>

<style>
  .skills-section {
    padding: var(--spacing-2xl) var(--spacing-md);
  }

  .no-skills {
    text-align: center;
    color: var(--color-text-secondary);
    font-size: 1.125rem;
    padding: var(--spacing-xl);
  }

  @media (max-width: 768px) {
    .skills-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
